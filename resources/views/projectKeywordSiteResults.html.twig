{% extends 'layout.html.twig' %}

{% block content %}
    <ol class="breadcrumb">
      <li><a href="{{ home.url }}">Home</a> ></li>
      <li><a href="{{ project.url }}">{{ project.name }}</a> ></li>
      <li><a href="{{ keyword.url }}">{{ keyword.name }}</a> ></li>
      <li class="active">{{ site.name }}</li>
    </ol>
    <h1>Evoluci√≥n de "{{ site.name }}" para la keyword "{{ keyword.name }}"</h1>
    <ul class="nav nav-tabs" role="tablist">
      <li class="active"><a href="#titleReport" role="tab" data-toggle="tab" >Title Report</a></li>
      <li><a href="#timeReport" role="tab" data-toggle="tab">Time Report</a></li>
      <li><a href="#socialReport" role="tab" data-toggle="tab">Social Report</a></li>
    </ul>

    <div class="tab-content">
      <div role="tabpanel" class="tab-pane table-responsive active" id="titleReport">
        <h2>Title Report</h2>
        <table class="table table-striped table-borderd" style="table-layout: fixed; word-wrap: break-word;">
          <thead>
            {% if headLineReportColumns is defined %}
                  <th class="col-sm-2">{{ headLineReportColumns.date }}</th>
                  <th class="col-sm-2">{{ headLineReportColumns.url }}</th>
                  <th class="col-sm-1">{{ headLineReportColumns.ranking }}</th>
                  <th class="col-sm-2">{{ headLineReportColumns.newstitle }}</th>
                  <th class="col-sm-2">{{ headLineReportColumns.urltitle }}</th>
                  <th class="col-sm-2">{{ headLineReportColumns.urlh1 }}</th>
            {% endif %}
          </thead>
          <tbody>
            {% if headLineReportRows is defined %}
              {% for row in headLineReportRows %}
                <tr>
                  <td>{{ row.date[0] }}</td>
                  <td {% if row.url[1] == true %}class="changed"{% endif %}>{% if row.url[0] != "..."%}<a href="{{row.url[0]}}" target="_blanks" title="{{row.url[0]}}">Link</a>{% endif %}</td>
                  <td {% if row.ranking[1] == true %}class="changed"{% endif %}>{{ row.ranking[0] }}</td>
                  <td {% if row.newstitle[1] == true %}class="changed"{% endif %}>{{ row.newstitle[0] }}</td>
                  <td {% if row.urltitle[1] == true %}class="changed"{% endif %}>{{ row.urltitle[0] }}</td>
                  <td {% if row.urlh1[1] == true %}class="changed"{% endif %}>{{ row.urlh1[0] }}</td>
                </tr>
              {% endfor %}
            {% endif %}
          </tbody>
        </table>
      </div>

      <div role="tabpanel" class="tab-pane table-responsive" id="timeReport">
        <h2>Time Report</h2>
        <table class="table table-striped table-borderd" style="table-layout: fixed; word-wrap: break-word;">
          <thead>
            {% if updatedTimeReportColumns is defined %}
              <th class="col-sm-1">{{ updatedTimeReportColumns.date }}</th>
              <th class="col-sm-2">{{ updatedTimeReportColumns.url }}</a></th>
              <th class="col-sm-1">{{ updatedTimeReportColumns.ranking }}</th>
              <th class="col-sm-2">{{ updatedTimeReportColumns.title }}</th>
              <th class="col-sm-2">{{ updatedTimeReportColumns.urldate }}</th>
              <th class="col-sm-2">{{ updatedTimeReportColumns.urldateissued }}</th>
              <th class="col-sm-2">{{ updatedTimeReportColumns.urltextdate }}</th>
            {% endif %}
          </thead>
          <tbody>
            {% if updatedTimeReportRows is defined %}
              {% for row in updatedTimeReportRows %}
                <tr>
                  <td>{{ row.date[0] }}</td>
                  <td {% if row.url[1] == true %}class="changed"{% endif %}>{% if row.url[0] != "..."%}<a href="{{row.url[0]}}" target="_blanks" title="{{row.url[0]}}">Link</a>{% endif %}</td>
                  <td {% if row.ranking[1] == true %}class="changed"{% endif %}>{{ row.ranking[0] }}</td>
                  <td {% if row.title[1] == true %}class="changed"{% endif %}>{{ row.title[0] }}</td>
                  <td {% if row.urldate[1] == true %}class="changed"{% endif %}>{{ row.urldate[0] }}</td>
                  <td {% if row.urldateissued[1] == true %}class="changed"{% endif %}>{{ row.urldateissued[0] }}</td>
                  <td {% if row.urltextdate[1] == true %}class="changed"{% endif %}>{{ row.urltextdate[0] }}</td>
                </tr>
              {% endfor %}
            {% endif %}
          </tbody>
        </table>
      </div>

    <div role="tabpanel" class="tab-pane table-responsive" id="socialReport">
        <h2>Social Report</h2>
        <table class="table table-striped table-borderd" style="table-layout: fixed; word-wrap: break-word;">
          <thead>
            {% if socialReportColumns is defined %}
                <th class="col-sm-2">{{ socialReportColumns.date }}</th>
                <th class="col-sm-2">{{ socialReportColumns.url }}</th>
                <th class="col-sm-1">{{ socialReportColumns.ranking }}</th>
                <th class="col-sm-2">{{ socialReportColumns.tweets }}</th>
                <th class="col-sm-2">{{ socialReportColumns.fblikes }}</th>
                <th class="col-sm-2">{{ socialReportColumns.fbshares }}</th>
                <th class="col-sm-2">{{ socialReportColumns.fbtotal }}</th>
                <th class="col-sm-2">{{ socialReportColumns.plusone }}</th>
            {% endif %}
          </thead>
          <tbody>
            {% if socialReportRows is defined %}
              {% for row in socialReportRows %}
                <tr>
                  <td>{{ row.date[0] }}</td>
                  <td {% if row.url[1] == true %}class="changed"{% endif %}>{% if row.url[0] != "..."%}<a href="{{row.url[0]}}" target="_blanks" title="{{row.url[0]}}">Link</a>{% endif %}</td>
                  <td {% if row.ranking[1] == true %}class="changed"{% endif %}>{{ row.ranking[0] }}</td>
                  <td {% if row.tweets[1] == true %}class="changed"{% endif %}>{{ row.tweets[0] }}</td>
                  <td {% if row.fblikes[1] == true %}class="changed"{% endif %}>{{ row.fblikes[0] }}</td>
                  <td {% if row.fbshares[1] == true %}class="changed"{% endif %}>{{ row.fbshares[0] }}</td>
                  <td {% if row.fbtotal[1] == true %}class="changed"{% endif %}>{{ row.fbtotal[0] }}</td>
                  <td {% if row.plusone[1] == true %}class="changed"{% endif %}>{{ row.plusone[0] }}</td>
                </tr>
              {% endfor %}
            {% endif %}
          </tbody>
        </table>
      </div>
    </div>


{% endblock %}
        
